<mxfile host="www.draw.io" modified="2020-04-23T20:42:13.684Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36" etag="QIzm_CHG-4g_rywNiSwd" version="13.0.1" type="github" pages="12">
  <diagram id="xnCYhN0wcjJ44rRVsSE7" name="01 - listen">
    <mxGraphModel dx="858" dy="422" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-1" value="Tickets Service" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="700" y="180" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=19;" edge="1" parent="1" source="ORSE5F3cjSJSo7zAx9cc-3" target="ORSE5F3cjSJSo7zAx9cc-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="700" y="205" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-4" value="Orders Service" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="910" y="180" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="910" y="205" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-6" value="tickets" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="730" y="220" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-7" value="orders" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="940" y="220" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-8" value="tickets" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="940" y="270" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="ORSE5F3cjSJSo7zAx9cc-10" target="ORSE5F3cjSJSo7zAx9cc-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-10" value="ticket:created" style="rounded=0;whiteSpace=wrap;html=1;fontSize=17;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="715" y="410" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-11" value="Orders needs to know the valid tickets that can be purchased" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="910" y="430" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-12" value="Orders needs to know the price of each ticket" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="910" y="470" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ORSE5F3cjSJSo7zAx9cc-13" value="TicketCreatedListener" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="915" y="335" width="170" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="NbMOHXKW-aE1ceOAoyQM" name="02 - qgn">
    <mxGraphModel dx="858" dy="422" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="OwF_ds5M16nl4MQUx6a--0" />
        <mxCell id="OwF_ds5M16nl4MQUx6a--1" parent="OwF_ds5M16nl4MQUx6a--0" />
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-0" value="Orders Service A" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="450" y="340" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="450" y="365" width="180" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-4" value="Orders Service B" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="450" y="440" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="450" y="465" width="180" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-6" value="Tickets Service" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="450" y="190" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="450" y="215" width="180" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-10" value="NATS" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="840" y="190" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="840" y="215" width="180" height="315" as="geometry" />
        </mxCell>
        <mxCell id="ZhLlfhxZzAETnSpoU_aa-12" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;Event&lt;/b&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;ticket:created" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="630" y="475" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="w-v8SBg2veydvhHXY_gR-0" value="Channel &#39;ticket:created&#39;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="850" y="237.5" width="160" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="w-v8SBg2veydvhHXY_gR-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="850" y="270" width="160" height="250" as="geometry" />
        </mxCell>
        <mxCell id="w-v8SBg2veydvhHXY_gR-2" value="Subscription for Orders A" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=0" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="882.5" y="365" width="95" height="55" as="geometry" />
        </mxCell>
        <mxCell id="w-v8SBg2veydvhHXY_gR-3" value="Subscription for Orders B" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=0" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="882.5" y="420" width="95" height="55" as="geometry" />
        </mxCell>
        <mxCell id="LWep_g7rADwL56hSZr_t-0" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;Event&lt;/b&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;ticket:created" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="OwF_ds5M16nl4MQUx6a--1">
          <mxGeometry x="650" y="380" width="110" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="03 - qgn" id="3inSCm0C_Fc5QLq7gCSl">
    <mxGraphModel dx="733" dy="360" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-0" />
        <mxCell id="f13K0g8XB1xMri5c8Z9y-1" parent="f13K0g8XB1xMri5c8Z9y-0" />
        <mxCell id="f13K0g8XB1xMri5c8Z9y-2" value="Orders Service A" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="450" y="340" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="450" y="365" width="180" height="65" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-4" value="Orders Service B" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="450" y="440" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="450" y="465" width="180" height="65" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-6" value="Tickets Service" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="450" y="190" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="450" y="215" width="180" height="65" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-8" value="NATS" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="840" y="190" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-9" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="840" y="215" width="180" height="315" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-11" value="Channel &#39;ticket:created&#39;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="850" y="237.5" width="160" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-12" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="850" y="270" width="160" height="250" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-15" value="Queue Group&lt;br&gt;&#39;asdf&#39;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="860" y="292.5" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-16" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="860" y="332.5" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-13" value="Subscription for Orders A" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=0" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="882.5" y="340" width="95" height="55" as="geometry" />
        </mxCell>
        <mxCell id="FhhwK9DRsQPXHS2a08th-0" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;Event&lt;/b&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;ticket:created" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="640" y="465" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="FhhwK9DRsQPXHS2a08th-1" value="Queue Group&lt;br&gt;&#39;123&#39;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="860" y="430" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="FhhwK9DRsQPXHS2a08th-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="860" y="470" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="f13K0g8XB1xMri5c8Z9y-14" value="Subscription for Orders B" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=0" vertex="1" parent="f13K0g8XB1xMri5c8Z9y-1">
          <mxGeometry x="882.5" y="482.5" width="95" height="55" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="y_SXOssTH_gvS7M6ZISH" name="04 - id">
    <mxGraphModel dx="613" dy="302" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="U5nnhxmkPqim0EIbUf6--0" />
        <mxCell id="U5nnhxmkPqim0EIbUf6--1" parent="U5nnhxmkPqim0EIbUf6--0" />
        <mxCell id="fi-J46ZypUfQe9W5iz4D-0" value="Orders Service&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="840" y="190" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=13;" edge="1" parent="U5nnhxmkPqim0EIbUf6--1" source="fi-J46ZypUfQe9W5iz4D-1" target="fi-J46ZypUfQe9W5iz4D-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="840" y="215" width="180" height="105" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-2" value="Tickets Service" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="430" y="190" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="430" y="215" width="180" height="105" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-6" value="{ _id: &#39;123&#39;, title: &#39;concert&#39; }" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="440" y="237.5" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-8" value="{ &lt;b&gt;id&lt;/b&gt;: &#39;123&#39;, title: &#39;concert&#39; }" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="647" y="237.5" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-11" value="Orders DB" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="840" y="425" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="fi-J46ZypUfQe9W5iz4D-12" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="840" y="350" width="180" height="75" as="geometry" />
        </mxCell>
        <mxCell id="TQhRVEbuMmKJUSV9UUEg-0" value="{ _&lt;b&gt;id&lt;/b&gt;: &#39;123&#39;, title: &#39;concert&#39; }" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="U5nnhxmkPqim0EIbUf6--1">
          <mxGeometry x="850" y="237.5" width="160" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="yQKAs6EoALPNzgs_8P7j" name="06 - event">
    <mxGraphModel dx="791" dy="389" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="3EyeccbzDFyFYv1g0Zvi-0" />
        <mxCell id="3EyeccbzDFyFYv1g0Zvi-1" parent="3EyeccbzDFyFYv1g0Zvi-0" />
        <mxCell id="3EyeccbzDFyFYv1g0Zvi-2" value="Tickets Service" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="760" y="210" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="3EyeccbzDFyFYv1g0Zvi-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="760" y="235" width="180" height="105" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-0" value="Ticket ABC" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="770" y="250" width="160" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-1" value="Orders Service" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="760" y="360" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="760" y="385" width="180" height="105" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-4" value="Ticket XYZ" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="770" y="290" width="160" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-5" value="Ticket ABC" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="770" y="400" width="160" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-6" value="" style="strokeWidth=1;shadow=0;dashed=0;align=center;html=1;shape=mxgraph.mockup.containers.browserWindow;rSize=0;strokeColor=#666666;strokeColor2=#008cff;strokeColor3=#c4c4c4;mainText=,;recursiveResize=0;fontSize=19;" vertex="1" parent="3EyeccbzDFyFYv1g0Zvi-1">
          <mxGeometry x="330" y="190" width="340" height="320" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-7" value="Page 1" style="strokeWidth=1;shadow=0;dashed=0;align=center;html=1;shape=mxgraph.mockup.containers.anchor;fontSize=17;fontColor=#666666;align=left;" vertex="1" parent="Bpy7scVCyxEu_CZ_hLfp-6">
          <mxGeometry x="60" y="12" width="110" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-8" value="https://www.draw.io" style="strokeWidth=1;shadow=0;dashed=0;align=center;html=1;shape=mxgraph.mockup.containers.anchor;rSize=0;fontSize=17;fontColor=#666666;align=left;" vertex="1" parent="Bpy7scVCyxEu_CZ_hLfp-6">
          <mxGeometry x="130" y="60" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-9" value="Ticket ABC" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=19;" vertex="1" parent="Bpy7scVCyxEu_CZ_hLfp-6">
          <mxGeometry x="40" y="140" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-10" value="Ticket XYZ" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=19;" vertex="1" parent="Bpy7scVCyxEu_CZ_hLfp-6">
          <mxGeometry x="40" y="190" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-11" value="Buy" style="rounded=1;whiteSpace=wrap;html=1;fontSize=19;align=center;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="Bpy7scVCyxEu_CZ_hLfp-6">
          <mxGeometry x="150" y="135" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Bpy7scVCyxEu_CZ_hLfp-12" value="Buy" style="rounded=1;whiteSpace=wrap;html=1;fontSize=19;align=center;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="Bpy7scVCyxEu_CZ_hLfp-6">
          <mxGeometry x="150" y="185" width="100" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="aJ39wscjE30s1090tUL4" name="05 - insert">
    <mxGraphModel dx="858" dy="422" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="eVmINbMoolYITVErckgw-0" />
        <mxCell id="eVmINbMoolYITVErckgw-1" parent="eVmINbMoolYITVErckgw-0" />
        <mxCell id="3JfAeRprQUmsi2VOOwtk-0" value="Orders Service&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="840" y="190" width="260" height="25" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="840" y="215" width="260" height="325" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="eVmINbMoolYITVErckgw-1" source="3JfAeRprQUmsi2VOOwtk-3" target="3JfAeRprQUmsi2VOOwtk-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-3" value="&lt;b style=&quot;font-size: 15px;&quot;&gt;Event&lt;br style=&quot;font-size: 15px;&quot;&gt;ticket:created&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="680" y="221.25" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="eVmINbMoolYITVErckgw-1" source="3JfAeRprQUmsi2VOOwtk-6" target="3JfAeRprQUmsi2VOOwtk-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-6" value="Extract info from the event" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="855" y="230" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="eVmINbMoolYITVErckgw-1" source="3JfAeRprQUmsi2VOOwtk-8" target="3JfAeRprQUmsi2VOOwtk-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-8" value="Build Ticket doc" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="855" y="293" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="eVmINbMoolYITVErckgw-1" source="3JfAeRprQUmsi2VOOwtk-9" target="3JfAeRprQUmsi2VOOwtk-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-9" value="Write ticket to DB" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="855" y="418" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-10" value="Ack the message" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="855" y="480" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="eVmINbMoolYITVErckgw-1" source="3JfAeRprQUmsi2VOOwtk-14" target="3JfAeRprQUmsi2VOOwtk-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-14" value="Mongoose validates the document" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="855" y="355" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-17" value="&lt;b style=&quot;font-size: 23px&quot;&gt;We really care about these steps being executed successfully&lt;br style=&quot;font-size: 23px&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=23;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="1170" y="326.25" width="270" height="97.5" as="geometry" />
        </mxCell>
        <mxCell id="3JfAeRprQUmsi2VOOwtk-18" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=23;rotation=-180;" vertex="1" parent="eVmINbMoolYITVErckgw-1">
          <mxGeometry x="1090" y="230" width="80" height="290" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="06 - db" id="XAGFe9omM_Kpvk5dfu4A">
    <mxGraphModel dx="770" dy="379" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-0" />
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-1" parent="zQ4TvPRT2Ofwal8MhyYs-0" />
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-2" value="Orders Service&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="840" y="190" width="260" height="25" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="840" y="215" width="260" height="325" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="zQ4TvPRT2Ofwal8MhyYs-1" source="zQ4TvPRT2Ofwal8MhyYs-5" target="zQ4TvPRT2Ofwal8MhyYs-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-5" value="&lt;b style=&quot;font-size: 15px;&quot;&gt;Event&lt;br style=&quot;font-size: 15px;&quot;&gt;ticket:created&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="680" y="221.25" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="zQ4TvPRT2Ofwal8MhyYs-1" source="zQ4TvPRT2Ofwal8MhyYs-7" target="zQ4TvPRT2Ofwal8MhyYs-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-7" value="Extract info from the event" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="855" y="230" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="zQ4TvPRT2Ofwal8MhyYs-1" source="zQ4TvPRT2Ofwal8MhyYs-9" target="zQ4TvPRT2Ofwal8MhyYs-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-9" value="Build Ticket doc" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="855" y="293" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="zQ4TvPRT2Ofwal8MhyYs-1" source="zQ4TvPRT2Ofwal8MhyYs-11" target="zQ4TvPRT2Ofwal8MhyYs-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=19;" edge="1" parent="zQ4TvPRT2Ofwal8MhyYs-1" source="zQ4TvPRT2Ofwal8MhyYs-11" target="zQ4TvPRT2Ofwal8MhyYs-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-11" value="Write ticket to DB" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="855" y="418" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-12" value="Ack the message" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="855" y="480" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="zQ4TvPRT2Ofwal8MhyYs-1" source="zQ4TvPRT2Ofwal8MhyYs-14" target="zQ4TvPRT2Ofwal8MhyYs-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-14" value="Mongoose validates the document" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="855" y="355" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="zQ4TvPRT2Ofwal8MhyYs-18" value="&lt;b style=&quot;font-size: 15px&quot;&gt;Connection to database failed!&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="1150" y="409.25" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="chnLB7RIzfyszC1qaHVZ-0" value="&lt;i&gt;Failed DB connection&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="zQ4TvPRT2Ofwal8MhyYs-1">
          <mxGeometry x="1190" y="480" width="160" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="07 - validate" id="LYRFQSPd9hYOtRhMPe5f">
    <mxGraphModel dx="858" dy="422" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-0" />
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-1" parent="IdWK6Ty2T2vlmvP6yRCW-0" />
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-2" value="Orders Service&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="840" y="190" width="260" height="25" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="840" y="215" width="260" height="325" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="IdWK6Ty2T2vlmvP6yRCW-1" source="IdWK6Ty2T2vlmvP6yRCW-5" target="IdWK6Ty2T2vlmvP6yRCW-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-5" value="&lt;b style=&quot;font-size: 15px;&quot;&gt;Event&lt;br style=&quot;font-size: 15px;&quot;&gt;ticket:created&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="590" y="221.25" width="210" height="38.75" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="IdWK6Ty2T2vlmvP6yRCW-1" source="IdWK6Ty2T2vlmvP6yRCW-7" target="IdWK6Ty2T2vlmvP6yRCW-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-7" value="Extract info from the event" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="855" y="230" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="IdWK6Ty2T2vlmvP6yRCW-1" source="IdWK6Ty2T2vlmvP6yRCW-9" target="IdWK6Ty2T2vlmvP6yRCW-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-9" value="Build Ticket doc" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="855" y="293" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="IdWK6Ty2T2vlmvP6yRCW-1" source="IdWK6Ty2T2vlmvP6yRCW-12" target="IdWK6Ty2T2vlmvP6yRCW-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=19;" edge="1" parent="IdWK6Ty2T2vlmvP6yRCW-1" target="IdWK6Ty2T2vlmvP6yRCW-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1085" y="376.25" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-12" value="Write ticket to DB" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="855" y="418" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-13" value="Ack the message" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="855" y="480" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="IdWK6Ty2T2vlmvP6yRCW-1" source="IdWK6Ty2T2vlmvP6yRCW-15" target="IdWK6Ty2T2vlmvP6yRCW-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-15" value="Mongoose validates the document" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="855" y="355" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="IdWK6Ty2T2vlmvP6yRCW-16" value="&lt;b style=&quot;font-size: 15px&quot;&gt;Event didn&#39;t contain the &#39;title&#39; property! Validation failure&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="1150" y="346.25" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AIhYBkxz-8GCzW3V9l1l-0" value="&lt;span style=&quot;font-size: 15px&quot;&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;{ id: &#39;XYZ&#39;, &lt;/span&gt;&lt;u&gt;name&lt;/u&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;: &#39;concert&#39;, price: 20 }&lt;/span&gt;&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="590" y="260" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="46h-TZt38sPTCh5dletX-0" value="&lt;i&gt;Invalid data in event body&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="IdWK6Ty2T2vlmvP6yRCW-1">
          <mxGeometry x="615" y="326.25" width="160" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="08 - insert" id="kqY3KOjlvjVd5GBjDjwP">
    <mxGraphModel dx="969" dy="477" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="nm6tZEYvctACgSB0CjVe-0" />
        <mxCell id="nm6tZEYvctACgSB0CjVe-1" parent="nm6tZEYvctACgSB0CjVe-0" />
        <mxCell id="nm6tZEYvctACgSB0CjVe-2" value="Orders Service&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="840" y="190" width="260" height="25" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="840" y="215" width="260" height="325" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="nm6tZEYvctACgSB0CjVe-1" source="nm6tZEYvctACgSB0CjVe-5" target="nm6tZEYvctACgSB0CjVe-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-5" value="&lt;b style=&quot;font-size: 15px;&quot;&gt;Event&lt;br style=&quot;font-size: 15px;&quot;&gt;ticket:created&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="620" y="231.88" width="180" height="38.75" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="nm6tZEYvctACgSB0CjVe-1" source="nm6tZEYvctACgSB0CjVe-7" target="nm6tZEYvctACgSB0CjVe-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-7" value="Extract info from the event" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="855" y="230" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="nm6tZEYvctACgSB0CjVe-1" source="nm6tZEYvctACgSB0CjVe-9" target="nm6tZEYvctACgSB0CjVe-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-9" value="Build Ticket doc" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="855" y="293" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="nm6tZEYvctACgSB0CjVe-1" source="nm6tZEYvctACgSB0CjVe-12" target="nm6tZEYvctACgSB0CjVe-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=19;" edge="1" parent="nm6tZEYvctACgSB0CjVe-1" target="nm6tZEYvctACgSB0CjVe-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1085" y="439.25" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-12" value="Write ticket to DB" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="855" y="418" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-13" value="Ack the message" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="855" y="480" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="nm6tZEYvctACgSB0CjVe-1" source="nm6tZEYvctACgSB0CjVe-15" target="nm6tZEYvctACgSB0CjVe-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-15" value="Mongoose validates the document" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="855" y="355" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-16" value="&lt;b style=&quot;font-size: 15px&quot;&gt;Already &#39;inserted&#39; a record with id &#39;XYZ&#39;! Unique constraint failure!&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="1130" y="409.25" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-17" value="&lt;span style=&quot;font-size: 15px&quot;&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;{ id: &#39;XYZ&#39;, &lt;/span&gt;&lt;span style=&quot;font-weight: normal&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;: &#39;concert&#39;, price: 20 }&lt;/span&gt;&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="620" y="270.63" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=19;" edge="1" parent="nm6tZEYvctACgSB0CjVe-1" source="nm6tZEYvctACgSB0CjVe-18" target="nm6tZEYvctACgSB0CjVe-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-18" value="&lt;b style=&quot;font-size: 15px;&quot;&gt;Event&lt;br style=&quot;font-size: 15px;&quot;&gt;ticket:created&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="400" y="231.88" width="180" height="38.75" as="geometry" />
        </mxCell>
        <mxCell id="nm6tZEYvctACgSB0CjVe-19" value="&lt;span style=&quot;font-size: 15px&quot;&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;{ id: &#39;XYZ&#39;, &lt;/span&gt;&lt;span style=&quot;font-weight: normal&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;: &#39;concert&#39;, price: 20 }&lt;/span&gt;&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="400" y="270.63" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PojPV8xZin3L-h7FyPAj-0" value="&lt;i&gt;Same event processed twice&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="nm6tZEYvctACgSB0CjVe-1">
          <mxGeometry x="520" y="195" width="160" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="09 - conc" id="f9ksVLEUpo-2iIt909Vr">
    <mxGraphModel dx="969" dy="477" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="cIFc45WKxbngex_T83bI-0" />
        <mxCell id="cIFc45WKxbngex_T83bI-1" parent="cIFc45WKxbngex_T83bI-0" />
        <mxCell id="cIFc45WKxbngex_T83bI-2" value="Orders Service&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=19;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="840" y="190" width="260" height="25" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=22;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;fontStyle=1" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="840" y="215" width="260" height="325" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="cIFc45WKxbngex_T83bI-1" source="cIFc45WKxbngex_T83bI-5" target="cIFc45WKxbngex_T83bI-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-5" value="&lt;b style=&quot;font-size: 15px&quot;&gt;Event&lt;br style=&quot;font-size: 15px&quot;&gt;ticket:updated&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="620" y="231.88" width="180" height="38.75" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;" edge="1" parent="cIFc45WKxbngex_T83bI-1" source="cIFc45WKxbngex_T83bI-7" target="cIFc45WKxbngex_T83bI-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-7" value="Find existing ticket in the DB" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="855" y="230" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="cIFc45WKxbngex_T83bI-1" source="cIFc45WKxbngex_T83bI-9" target="cIFc45WKxbngex_T83bI-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-9" value="Apply update" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="855" y="293" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="cIFc45WKxbngex_T83bI-1" source="cIFc45WKxbngex_T83bI-12" target="cIFc45WKxbngex_T83bI-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=19;" edge="1" parent="cIFc45WKxbngex_T83bI-1" target="cIFc45WKxbngex_T83bI-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1085" y="251.25" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-12" value="Write ticket updated ticket to DB" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="855" y="418" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-13" value="Ack the message" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="855" y="480" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;" edge="1" parent="cIFc45WKxbngex_T83bI-1" source="cIFc45WKxbngex_T83bI-15" target="cIFc45WKxbngex_T83bI-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-15" value="Mongoose validates the document" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="855" y="355" width="230" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-16" value="&lt;b style=&quot;font-size: 15px&quot;&gt;Ticket with ID &#39;XYZ&#39; not found!&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="1130" y="221.25" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-17" value="&lt;span style=&quot;font-size: 15px&quot;&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;{ id: &#39;XYZ&#39;, &lt;/span&gt;&lt;span style=&quot;font-weight: normal&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;: &#39;concert&#39;, price: &lt;/span&gt;&lt;u&gt;40&lt;/u&gt;&lt;span style=&quot;font-weight: 400&quot;&gt; }&lt;/span&gt;&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="620" y="270.63" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=19;" edge="1" parent="cIFc45WKxbngex_T83bI-1" source="cIFc45WKxbngex_T83bI-19" target="cIFc45WKxbngex_T83bI-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-19" value="&lt;b style=&quot;font-size: 15px;&quot;&gt;Event&lt;br style=&quot;font-size: 15px;&quot;&gt;ticket:created&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="400" y="231.88" width="180" height="38.75" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-20" value="&lt;span style=&quot;font-size: 15px&quot;&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;{ id: &#39;XYZ&#39;, &lt;/span&gt;&lt;span style=&quot;font-weight: normal&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-weight: 400&quot;&gt;: &#39;concert&#39;, price: 20 }&lt;/span&gt;&lt;br style=&quot;font-size: 15px&quot;&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="400" y="270.63" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cIFc45WKxbngex_T83bI-21" value="&lt;i&gt;Events received out of order&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="cIFc45WKxbngex_T83bI-1">
          <mxGeometry x="520" y="195" width="160" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Vs34sjiFl_de9pe0FEm2" name="10 - trans">
    <mxGraphModel dx="683" dy="336" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-0" />
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-1" parent="ohpjeUfnrAzDa1KPJt9F-0" />
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-2" value="Database connection is down" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="655" y="270" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-3" value="Transient Errors" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=19;fontStyle=1" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="697.5" y="240" width="175" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-5" value="Non-Transient Errors" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=19;fontStyle=1" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="1016.25" y="240" width="227.5" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-6" value="Event data is invalid" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="1000" y="270" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-7" value="Event is being processed out of order" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="655" y="330" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-8" value="&lt;i&gt;These problems might go away if we try to reprocess the event in a few seconds&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="682.5" y="390" width="205" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ohpjeUfnrAzDa1KPJt9F-9" value="Event has already been processed" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="1000" y="330" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="hJrOXMhbEGJU87O6PyM2-0" value="&lt;i&gt;No matter how many times we try to reprocess the event, this error won&#39;t go away&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="ohpjeUfnrAzDa1KPJt9F-1">
          <mxGeometry x="1027.5" y="390" width="205" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="pUOx4hf2q5D1ciw5rZnj" name="12 - handling">
    <mxGraphModel dx="653" dy="321" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0Cq7q5vF2DcF1YCMMOyG-0" />
        <mxCell id="0Cq7q5vF2DcF1YCMMOyG-1" parent="0Cq7q5vF2DcF1YCMMOyG-0" />
        <mxCell id="VjwWAsoYgkoIpQTcFZUf-0" value="Database connection is down" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="590" y="260" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VjwWAsoYgkoIpQTcFZUf-1" value="Event is being processed out of order" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="590" y="320" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ymgt9UJ469CE02uCDTo9-0" value="Event data is invalid" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="590" y="420" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ymgt9UJ469CE02uCDTo9-1" value="Event has already been processed" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="590" y="480" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Ymgt9UJ469CE02uCDTo9-3" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=15;align=right;rotation=-180;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="860" y="260" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Ymgt9UJ469CE02uCDTo9-4" value="Don&#39;t ack the message!&amp;nbsp; It will timeout and NATS will redeliver it in the future" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="890" y="305" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Ymgt9UJ469CE02uCDTo9-5" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=15;align=right;rotation=-180;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="860" y="420" width="30" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Ymgt9UJ469CE02uCDTo9-6" value="Case-by-case handling" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="0Cq7q5vF2DcF1YCMMOyG-1">
          <mxGeometry x="890" y="465" width="180" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
